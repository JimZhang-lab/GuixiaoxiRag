# GuiXiaoXiRag API Swagger 注释优化总结

## 优化概述

本次优化对 `server/main.py` 文件中的所有 API 接口进行了详细的 Swagger 注释优化，大幅提升了 API 文档的质量和可用性。

## 优化内容

### 1. 系统管理接口

#### `/health` - 系统健康检查
- 添加了详细的功能说明和返回信息描述
- 提供了完整的响应示例
- 说明了健康检查的用途和监控价值

#### `/` - API服务根路径
- 优化了服务信息描述
- 添加了使用场景说明
- 提供了导航链接说明

#### `/system/reset` - 系统重置
- 添加了危险操作警告
- 详细说明了重置范围和流程
- 提供了恢复建议和注意事项

#### `/system/status` - 获取系统状态
- 详细描述了状态信息内容
- 添加了监控建议和使用场景
- 提供了完整的配置信息说明

### 2. 文档管理接口

#### `/insert/text` - 插入单个文本
- 详细说明了功能特性和参数
- 添加了使用场景和注意事项
- 提供了完整的错误处理说明

#### `/insert/texts` - 批量插入文本
- 强调了批量处理的优势
- 添加了性能建议和限制说明
- 详细描述了原子性操作保证

#### `/insert/file` - 上传并插入文件
- 列出了支持的文件格式
- 详细说明了处理流程
- 添加了文件大小和编码限制

#### `/insert/files` - 批量文件上传
- 强调了并行处理能力
- 添加了性能优化建议
- 详细说明了错误处理机制

#### `/insert/directory` - 目录文件插入
- 说明了目录遍历功能
- 添加了文件过滤规则
- 提供了批量处理建议

### 3. 查询接口

#### `/query` - 智能知识查询
- 详细说明了所有查询模式
- 添加了高级参数说明
- 提供了使用场景和优化建议

#### `/query/modes` - 查询模式列表
- 详细解释了每种查询模式
- 添加了选择建议和适用场景
- 提供了性能对比说明

#### `/query/batch` - 批量查询
- 强调了并行处理优势
- 添加了性能优化建议
- 详细说明了错误处理机制

#### `/query/optimized` - 优化查询
- 说明了性能优化参数
- 添加了配置建议
- 提供了使用场景说明

### 4. 知识图谱接口

#### `/knowledge-graph` - 获取知识图谱
- 详细说明了图谱检索功能
- 添加了性能建议和限制
- 提供了数据格式说明

#### `/knowledge-graph/stats` - 图谱统计
- 详细描述了统计信息内容
- 添加了监控用途说明
- 提供了系统分析建议

#### `/knowledge-graph/clear` - 清空图谱
- 添加了危险操作警告
- 详细说明了清空范围和后果
- 提供了恢复方法建议

### 5. 知识库管理接口

#### `/knowledge-bases` - 列出知识库
- 详细说明了返回信息内容
- 添加了管理功能描述
- 提供了使用场景说明

#### `/knowledge-bases` (POST) - 创建知识库
- 详细说明了创建流程
- 添加了命名规则和注意事项
- 提供了目录结构说明

#### `/knowledge-bases/{name}` (DELETE) - 删除知识库
- 添加了危险操作警告
- 详细说明了删除影响
- 提供了安全建议

#### `/knowledge-bases/switch` - 切换知识库
- 详细说明了切换流程
- 添加了注意事项和建议
- 提供了错误处理说明

#### `/knowledge-bases/{name}/export` - 导出知识库
- 说明了导出格式和内容
- 添加了使用场景描述
- 提供了数据处理建议

### 6. 语言管理接口

#### `/languages` - 获取语言列表
- 详细说明了支持的语言
- 添加了语言功能描述
- 提供了配置建议

#### `/languages/set` - 设置语言
- 详细说明了语言设置功能
- 添加了影响范围描述
- 提供了使用建议

### 7. 监控接口

#### `/metrics` - 系统性能指标
- 详细描述了性能指标内容
- 添加了监控建议
- 提供了分析用途说明

#### `/logs` - 获取日志
- 说明了日志获取功能
- 添加了使用场景描述
- 提供了故障诊断建议

### 8. 性能优化接口

#### `/performance/optimize` - 性能优化
- 详细说明了优化模式
- 添加了配置建议
- 提供了使用场景说明

#### `/performance/configs` - 性能配置
- 说明了配置选项内容
- 添加了选择建议
- 提供了优化指导

### 9. 服务管理接口

#### `/service/config` - 服务配置
- 详细说明了配置信息内容
- 添加了使用场景描述
- 提供了管理建议

#### `/service/switch-kb` - 切换知识库
- 详细说明了切换功能
- 添加了流程描述和注意事项
- 提供了使用建议

## 优化特点

### 1. 详细的功能描述
- 每个接口都有完整的功能说明
- 详细的参数描述和使用方法
- 清晰的使用场景和适用条件

### 2. 完整的响应示例
- 提供了成功响应的完整示例
- 详细的错误响应说明
- 多种状态码的处理说明

### 3. 安全和性能建议
- 危险操作的明确警告
- 性能优化建议和限制说明
- 最佳实践和使用建议

### 4. 用户友好的文档
- 清晰的结构和分类
- 易于理解的语言描述
- 实用的使用指导

## 使用建议

1. **开发者**: 可以通过 `/docs` 路径访问完整的 API 文档
2. **集成商**: 参考详细的接口说明进行系统集成
3. **运维人员**: 利用监控接口进行系统管理
4. **用户**: 根据使用场景选择合适的接口

## 后续维护

建议在添加新接口或修改现有接口时，保持相同的文档质量标准：
- 详细的功能描述
- 完整的参数说明
- 清晰的响应示例
- 实用的使用建议
